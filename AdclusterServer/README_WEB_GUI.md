# PostgreSQL 웹 기반 GUI 사용 설명서

## 개요

이 웹 기반 GUI 애플리케이션은 PostgreSQL 데이터베이스를 직접 제어하고 관리할 수 있는 인터페이스를 제공합니다. tkinter 대신 Flask 웹 프레임워크를 사용하여 브라우저에서 접근 가능한 GUI를 구현했습니다.

## 주요 기능

- SQL 쿼리 실행 및 결과 확인
- 테이블 목록 조회 및 테이블 구조/데이터 확인
- 쿼리 결과를 CSV 또는 JSON으로 내보내기
- 쿼리 저장 및 불러오기
- 쿼리 결과를 다양한 차트(막대, 선, 파이)로 시각화

## 설치 방법

### 1. 필수 패키지 설치

다음 명령어를 실행하여 필요한 패키지를 설치합니다:

```bash
python install_web_gui_dependencies.py
```

또는 직접 필요한 패키지를 설치할 수 있습니다:

```bash
pip install flask psycopg2-binary python-dotenv pandas matplotlib
```

### 2. 환경 변수 설정

`.env` 파일을 생성하고 다음과 같이 데이터베이스 연결 정보를 설정합니다:

```
DB_HOST=localhost
DB_PORT=5432
DB_NAME=your_database_name
DB_USER=your_username
DB_PASSWORD=your_password
```

## 실행 방법

다음 명령어로 웹 GUI를 실행합니다:

```bash
python run_web_gui.py
```

또는 직접 웹 애플리케이션을 실행할 수도 있습니다:

```bash
python db_web_gui.py
```

실행 후 웹 브라우저에서 다음 주소로 접속합니다:

```
http://localhost:5000
```

## 사용 방법

### 데이터베이스 탐색

1. 좌측 사이드바의 "테이블 목록 불러오기" 버튼을 클릭하여 데이터베이스의 모든 테이블을 확인합니다.
2. 테이블 이름을 클릭하면 해당 테이블의 구조와 데이터를 확인할 수 있습니다.

### SQL 쿼리 실행

1. 중앙 상단의 텍스트 영역에 SQL 쿼리를 입력합니다.
2. "쿼리 실행" 버튼을 클릭하여 쿼리를 실행합니다.
3. 결과는 하단에 테이블 형태로 표시됩니다.

### 쿼리 저장 및 불러오기

1. 쿼리를 작성한 후 좌측 사이드바의 "저장된 쿼리" 섹션에서 이름을 입력하고 "저장" 버튼을 클릭합니다.
2. 저장된 쿼리는 목록에 표시되며, 클릭하면 쿼리 편집기에 불러옵니다.

### 결과 내보내기

1. 쿼리 실행 후 결과 테이블 상단의 "CSV 내보내기" 또는 "JSON 내보내기" 버튼을 클릭합니다.
2. 파일이 자동으로 다운로드됩니다.

### 차트 생성

1. SELECT 쿼리 실행 후 결과 하단에 차트 옵션이 표시됩니다.
2. 차트 유형(막대, 선, 파이)과 X축, Y축에 사용할 컬럼을 선택합니다.
3. "차트 생성" 버튼을 클릭하면 차트가 생성됩니다.

## 문제 해결

### 연결 오류

- `.env` 파일의 데이터베이스 연결 정보가 올바른지 확인합니다.
- PostgreSQL 서버가 실행 중인지 확인합니다.
- 방화벽 설정이 데이터베이스 포트(기본 5432)에 대한 접근을 허용하는지 확인합니다.

### 패키지 오류

필요한 패키지가 설치되지 않은 경우 다음 명령어로 수동 설치합니다:

```bash
pip install flask psycopg2-binary python-dotenv pandas matplotlib
```

## 참고 사항

- 이 애플리케이션은 개발 및 테스트 목적으로 설계되었습니다. 프로덕션 환경에서는 보안 설정을 강화하여 사용하세요.
- 대용량 데이터를 조회할 경우 LIMIT 절을 사용하여 결과를 제한하는 것이 좋습니다.
- 차트 생성 시 데이터 형식에 따라 일부 차트 유형이 적합하지 않을 수 있습니다.